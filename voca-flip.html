<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>üçì VocaFlip üçì</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  font-family:'Quicksand', sans-serif;
  background:#fff9f0;
  display:flex;
  flex-direction:column;
  align-items:center;
}
h1 {
  font-family:'Fredoka One', cursive;
  font-size:3rem;
  color:#ff4c6d;
  margin:0.5rem;
  text-align:center;
}
h2.subtitle {
  font-size:1.2rem;
  color:#ff6f91;
  margin:0.2rem 0 1rem 0;
  text-align:center;
}
.main {
  width:100%;
  max-width:1400px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:1rem;
}
#teacherPanel {
  display:flex;
  flex-direction:column;
  gap:0.8rem;
  max-height:400px;
  overflow-y:auto;
  width:90%;
  background:#fff3e0;
  padding:1rem;
  border-radius:12px;
}
.questionRow {
  display:flex;
  align-items:center;
  gap:0.5rem;
}
.questionNumber {
  font-weight:700;
  min-width:60px;
}
.questionRow input {
  font-size:1.2rem;
  padding:0.5rem;
  border-radius:8px;
  border:2px solid #ffcc00;
}
.meaningInput { flex:1; }
#addWordBtn {
  font-size:1.3rem;
  padding:0.6rem 1rem;
  border-radius:12px;
  background:#ff6f61;
  color:white;
  cursor:pointer;
  border:none;
  transition:0.2s;
}
#addWordBtn:hover { background:#ff857a; }
#teamsPanel {
  display:flex;
  flex-wrap:wrap;
  gap:0.5rem;
  justify-content:center;
  margin:1rem 0;
}
.teamBtn {
  font-size:1.5rem;
  padding:0.8rem 1.2rem;
  border-radius:12px;
  border:none;
  cursor:pointer;
  transition:0.2s;
}
.teamBtn.current { transform:scale(1.1); box-shadow:0 0 10px #ffcc00; }
.teamBtn:hover { opacity:0.85; }
#questionsArea {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(80px,1fr));
  gap:0.5rem;
  width:90%;
  justify-items:center;
}
.questionBox {
  font-size:1.2rem;
  font-weight:700;
  color:white;
  text-align:center;
  padding:1rem;
  border-radius:10px;
  cursor:pointer;
  transition:0.3s;
}
#questionPanel {
  display:none;
  flex-direction:column;
  align-items:center;
  background:#fff3e0;
  padding:1rem;
  border-radius:12px;
  width:90%;
  gap:0.8rem;
}
.answerBtn {
  font-size:1.3rem;
  padding:0.8rem;
  width:80%;
  border-radius:12px;
  border:none;
  cursor:pointer;
  transition:0.2s;
}
.answerBtn:hover { opacity:0.85; }
#feedback {
  font-size:1.4rem;
  min-height:30px;
  text-align:center;
  margin-top:0.5rem;
}
</style>
</head>
<body>

<h1>üçì VocaFlip üçì</h1>
<h2 class="subtitle">VUS Hoa Binh Campus</h2>

<div class="main">

<h2>Teacher Panel</h2>
<div id="teacherPanel"></div>
<button id="addWordBtn">+ Add Word</button>

<h2>Teams</h2>
<div id="teamsPanel"></div>
<button id="addTeamBtn">+ Add Team</button>

<h2>Questions</h2>
<div id="questionsArea"></div>

<div id="questionPanel">
  <div id="questionMeaning" style="font-size:1.5rem;font-weight:600;text-align:center;"></div>
  <button class="answerBtn" id="option1"></button>
  <button class="answerBtn" id="option2"></button>
  <button class="answerBtn" id="option3"></button>
</div>

<div id="feedback"></div>
<button onclick="restartGame()">Restart</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
let teacherQuestions=[], teams=[], scores=[], selectedTeam=null, currentQIndex=null;
let teamEmojis=['üçé','üçì','üåΩ','ü•¶','üçá','üçâ','üçí','üçç','ü•≠','üå∏'];

// Teacher panel logic
const teacherPanel=document.getElementById('teacherPanel');
function addQuestionRow(word='',meaning=''){
  const row=document.createElement('div');
  row.className='questionRow';
  const number=document.createElement('span');
  number.className='questionNumber';
  number.textContent='Word '+(teacherQuestions.length+1);
  const wordInput=document.createElement('input');
  wordInput.type='text';
  wordInput.placeholder='Enter word';
  wordInput.value=word;
  const meaningInput=document.createElement('input');
  meaningInput.type='text';
  meaningInput.placeholder='Enter meaning';
  meaningInput.className='meaningInput';
  meaningInput.value=meaning;
  row.append(number,wordInput,meaningInput);
  teacherPanel.appendChild(row);
  teacherQuestions.push({wordInput,meaningInput});
}
document.getElementById('addWordBtn').onclick=()=>{ if(teacherQuestions.length<25) addQuestionRow(); };

// Teams logic
const teamsPanel=document.getElementById('teamsPanel');
function renderTeams(){
  teamsPanel.innerHTML='';
  teams.forEach((t,i)=>{
    const btn=document.createElement('button');
    btn.className='teamBtn'+(i===selectedTeam?' current':'');
    btn.textContent=`${t.emoji} ${t.name}: ${scores[i]} pts`;
    btn.onclick=()=>{ selectedTeam=i; renderTeams(); };
    teamsPanel.appendChild(btn);
  });
}
document.getElementById('addTeamBtn').onclick=()=>{
  const name='Team '+(teams.length+1);
  const emoji=teamEmojis[teams.length%teamEmojis.length];
  teams.push({name,emoji});
  scores.push(0);
  renderTeams();
};

// Questions area
const questionsArea=document.getElementById('questionsArea');
function renderQuestions(){
  questionsArea.innerHTML='';
  teacherQuestions.forEach((q,i)=>{
    const box=document.createElement('div');
    box.className='questionBox';
    box.textContent=i+1;
    box.style.background=['#ff6f61','#ffcc00','#6feaff','#ff85a2','#6fff90'][i%5];
    box.onclick=()=>{ showQuestion(i); };
    questionsArea.appendChild(box);
  });
}

const questionPanel=document.getElementById('questionPanel');
const qMeaning=document.getElementById('questionMeaning');
const optionBtns=[document.getElementById('option1'),document.getElementById('option2'),document.getElementById('option3')];
function showQuestion(index){
  currentQIndex=index;
  const q=teacherQuestions[index];
  qMeaning.textContent=q.meaningInput.value;
  // Randomize answer options
  const correct=q.wordInput.value;
  const fake=[...teacherQuestions.map(q=>q.wordInput.value).filter(w=>w!==correct)];
  let opts=[correct,fake[Math.floor(Math.random()*fake.length)],fake[Math.floor(Math.random()*fake.length)]];
  opts.sort(()=>Math.random()-0.5);
  optionBtns.forEach((btn,i)=>{
    btn.textContent=opts[i];
    btn.style.background='#ffcc00';
    btn.onclick=()=>{ checkAnswer(btn.textContent===correct); };
  });
  questionPanel.style.display='flex';
}
function checkAnswer(isCorrect){
  if(isCorrect){ 
    document.getElementById('feedback').textContent='‚úÖ Correct!';
    confetti({particleCount:50,spread:60,origin:{y:0.6}});
    scores[selectedTeam]+=10;
    renderTeams();
  } else {
    document.getElementById('feedback').textContent='‚ùå Wrong!';
  }
  questionPanel.style.display='none';
}

function restartGame(){ window.location.reload(); }

// Init
addQuestionRow('skyscraper','tall building');
addQuestionRow('elephant','large animal');
addQuestionRow('pineapple','tropical fruit');
renderTeams();
renderQuestions();
</script>
</body>
</html>

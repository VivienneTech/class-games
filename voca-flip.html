<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>üå∑ VocaFlip  üå∑</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin:0;
  font-family: 'Comic Sans MS', cursive, sans-serif;
  background:#fbe4f9;
  display:flex;
  flex-direction:column;
  align-items:center;
}
h1{
  font-size:3rem;
  color:#c4161c;
  margin:0.5rem;
  text-align:center;
}
h2{
  font-size:1.8rem;
  margin:0.3rem;
  color:#333;
}
#subtitle{
  font-size:1rem;
  color:#555;
  margin-bottom:1rem;
}
.main{
  width:95%;
  max-width:1400px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:1rem;
}
#rules{
  background:#fff;
  padding:1rem;
  border-radius:12px;
  font-size:1.2rem;
  width:90%;
  text-align:left;
  box-shadow: 2px 2px 12px rgba(0,0,0,0.2);
}
#teacherPanel{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  max-height:400px;
  overflow-y:auto;
  width:95%;
  margin-bottom:1rem;
}
.questionBox{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  width:200px;
  background:#fff;
  border-radius:10px;
  padding:10px;
  box-shadow: 2px 2px 8px rgba(0,0,0,0.15);
}
.questionBox input{
  font-size:1rem;
  margin-top:5px;
  padding:5px;
  width:100%;
  border-radius:6px;
  border:1px solid #ccc;
}
#controls{
  display:flex;
  gap:10px;
  margin:1rem;
}
button{
  padding:10px 15px;
  font-size:1.2rem;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
}
#addTeamBtn{background:#ff7f50; color:white;}
#startGameBtn{background:#ff69b4; color:white;}
#restartBtn{background:#9370db; color:white;}
#teams{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  margin-top:1rem;
}
.team{
  padding:15px 20px;
  font-size:1.3rem;
  border-radius:10px;
  cursor:pointer;
  color:white;
  font-weight:bold;
}
.team.current{
  box-shadow: 0 0 10px gold;
  transform: scale(1.1);
}
#cards{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:10px;
  width:90%;
  justify-items:center;
  margin-top:1rem;
}
.card{
  width:100%;
  height:100px;
  border-radius:12px;
  background:#ffb6c1;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:bold;
  font-size:1.5rem;
  cursor:pointer;
  color:#fff;
  transition: transform 0.3s;
}
.card.selected{
  background:#32cd32;
  transform: scale(1.05);
}
#feedback{
  margin-top:1rem;
  font-size:1.5rem;
  min-height:30px;
  text-align:center;
  font-weight:bold;
}
</style>
</head>
<body>

<h1>VocaFlip</h1>
<div id="subtitle">VUS Hoa Binh Campus</div>

<div class="main">
<div id="rules">
<strong>Rules:</strong>
<ol>
<li>Select your team by clicking its colorful button.</li>
<li>Choose a numbered box to reveal the meaning of the word.</li>
<li>Choose the correct answer from the 3 options displayed.</li>
<li>Correct answer = +10 points with confetti!</li>
<li>Teams take turns selecting boxes until all words are answered.</li>
<li>The team with the highest points wins.</li>
</ol>
</div>

<h2>Teacher Panel: Add Words & Meanings</h2>
<div id="teacherPanel">
<!-- Question boxes will appear here -->
</div>
<div id="controls">
<button id="addTeamBtn">Add Team</button>
<button id="startGameBtn">Start Game</button>
<button id="restartBtn">Restart</button>
</div>

<div id="teams"></div>
<div id="cards"></div>
<div id="feedback"></div>
</div>

<script>
// Team emojis
const emojis = ["üçé","üçì","üåΩ","ü•¶","ü•ù","üå∏","üåº","üåª","üå∫","üå∑"];
let teams = [];
let scores = [];
let selectedTeam = null;

// Questions
let questions = [];

// Add question boxes dynamically
for(let i=1;i<=3;i++){
  addQuestionBox(i);
}
function addQuestionBox(num){
  const div = document.createElement("div");
  div.className="questionBox";
  div.innerHTML=`<label>Word ${num}:</label><input type="text" placeholder="Word"><label>Meaning:</label><input type="text" placeholder="Meaning">`;
  document.getElementById("teacherPanel").appendChild(div);
}

// Team adding
document.getElementById("addTeamBtn").onclick = ()=>{
  const name = prompt("Enter team name:")||`Team ${teams.length+1}`;
  const emoji = emojis[teams.length % emojis.length];
  teams.push({name:name, emoji:emoji});
  scores.push(0);
  renderTeams();
}

// Start game
document.getElementById("startGameBtn").onclick = ()=>{
  // Gather questions
  const boxes = document.querySelectorAll(".questionBox");
  questions=[];
  boxes.forEach(box=>{
    const w = box.querySelectorAll("input")[0].value.trim();
    const m = box.querySelectorAll("input")[1].value.trim();
    if(w && m) questions.push({word:w, meaning:m, revealed:false});
  });
  if(questions.length===0) return alert("Add at least 1 word");
  renderCards();
}

// Render teams
function renderTeams(){
  const div = document.getElementById("teams");
  div.innerHTML="";
  teams.forEach((t,i)=>{
    const d = document.createElement("div");
    d.className="team"+(i===selectedTeam?" current":"");
    d.style.background=emojisColor(i);
    d.textContent=`${t.emoji} ${t.name}: ${scores[i]} pts`;
    d.onclick=()=>{selectedTeam=i; renderTeams();}
    div.appendChild(d);
  });
}
function emojisColor(i){
  const colors=["#ff7f50","#ff69b4","#9370db","#3cb371","#ffa500","#ff1493","#00ced1","#ff6347"];
  return colors[i%colors.length];
}

// Render cards
function renderCards(){
  const div = document.getElementById("cards");
  div.innerHTML="";
  questions.forEach((q,i)=>{
    const card = document.createElement("div");
    card.className="card";
    card.textContent=i+1;
    card.onclick=()=>{
      if(q.revealed) return;
      if(selectedTeam===null) return alert("Select your team first!");
      selectCard(card,q);
    }
    div.appendChild(card);
  });
}

function selectCard(card,q){
  card.classList.add("selected");
  // show choices
  const options = [q.word, "option2", "option3"];
  const choice = prompt(`Meaning: ${q.meaning}\nChoose the correct word:\n1.${options[0]}  2.${options[1]}  3.${options[2]}`);
  if(choice && choice.trim()===q.word){
    scores[selectedTeam]+=10;
    document.getElementById("feedback").textContent="‚úÖ Correct! +10 points";
  }else{
    document.getElementById("feedback").textContent=`‚ùå Wrong! The word was: ${q.word}`;
  }
  q.revealed=true;
  renderTeams();
}

document.getElementById("restartBtn").onclick = ()=>location.reload();
</script>

</body>
</html>

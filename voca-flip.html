<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>üå∑ VocaFlip üå∑</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin:0;
  font-family:'Comic Sans MS', cursive, sans-serif;
  background:#fbe4f9;
  display:flex;
  flex-direction:column;
  align-items:center;
}
h1{
  font-size:3rem;
  color:#c4161c;
  margin:0.5rem;
  text-align:center;
}
#subtitle{
  font-size:1rem;
  color:#555;
  margin-bottom:1rem;
}
.main{
  width:95%;
  max-width:1400px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:1rem;
}
#rules{
  background:#fff;
  padding:1rem;
  border-radius:12px;
  font-size:1.2rem;
  width:90%;
  text-align:left;
  box-shadow: 2px 2px 12px rgba(0,0,0,0.2);
}
#teacherPanel{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:10px;
  width:95%;
  margin-bottom:1rem;
}
.questionBox{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  width:100%;
  background:#fff;
  border-radius:10px;
  padding:10px;
  box-shadow:2px 2px 8px rgba(0,0,0,0.15);
}
.questionBox input{
  font-size:1rem;
  margin-top:5px;
  padding:5px;
  width:100%;
  border-radius:6px;
  border:1px solid #ccc;
}
#controls{
  display:flex;
  gap:10px;
  margin:1rem;
  flex-wrap:wrap;
  justify-content:center;
}
button{
  padding:10px 15px;
  font-size:1.2rem;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
}
#addTeamBtn{background:#ff7f50; color:white;}
#addQuestionBtn{background:#ff69b4; color:white;}
#startGameBtn{background:#32cd32; color:white;}
#restartBtn{background:#9370db; color:white;}
#teams{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  margin-top:1rem;
}
.team{
  padding:15px 20px;
  font-size:1.3rem;
  border-radius:10px;
  cursor:pointer;
  color:white;
  font-weight:bold;
}
.team.current{
  box-shadow:0 0 10px gold;
  transform:scale(1.1);
}
#cards{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:10px;
  width:90%;
  justify-items:center;
  margin-top:1rem;
}
.card{
  width:100%;
  height:100px;
  border-radius:12px;
  background:#ffb6c1;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:bold;
  font-size:1.5rem;
  cursor:pointer;
  color:#fff;
  transition: transform 0.3s;
}
.card.selected{
  background:#32cd32;
  transform: scale(1.05);
}
#options{
  display:flex;
  gap:10px;
  margin-top:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.optionBtn{
  flex:1 1 30%;
  padding:10px;
  font-size:1.2rem;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  color:white;
  background:#ff69b4;
}
.optionBtn.correct{background:#32cd32;}
.optionBtn.wrong{background:#ff4500;}
#feedback{
  margin-top:1rem;
  font-size:1.5rem;
  min-height:40px;
  text-align:center;
  font-weight:bold;
}
</style>
</head>
<body>

<h1>VocaFlip</h1>
<div id="subtitle">VUS Hoa Binh Campus</div>

<div class="main">
<div id="rules">
<strong>Rules:</strong>
<ol>
<li>Select your team by clicking its colorful button.</li>
<li>Choose a numbered box to reveal the meaning of the word.</li>
<li>Click on the correct answer from the 3 options below.</li>
<li>Correct = +10 points + confetti!</li>
<li>Teams take turns selecting boxes until all words are answered.</li>
<li>Highest score wins.</li>
</ol>
</div>

<h2>Teacher Panel: Add Words & Meanings (max 25)</h2>
<div id="teacherPanel"></div>

<div id="controls">
<button id="addTeamBtn">Add Team</button>
<button id="addQuestionBtn">Add Word</button>
<button id="startGameBtn">Start Game</button>
<button id="restartBtn">Restart</button>
</div>

<div id="teams"></div>
<div id="cards"></div>
<div id="options"></div>
<div id="feedback"></div>
</div>

<script>
const emojis = ["üçé","üçì","üåΩ","ü•¶","ü•ù","üå∏","üåº","üåª","üå∫","üå∑"];
let teams=[], scores=[], selectedTeam=null;
let questions=[];
let currentQuestion=null;

// Initial 3 questions
for(let i=1;i<=3;i++) addQuestionBox(i);

function addQuestionBox(num){
  if(document.querySelectorAll(".questionBox").length>=25) return alert("Max 25 words");
  const div=document.createElement("div");
  div.className="questionBox";
  div.innerHTML=`<label>Word ${num}:</label><input type="text" placeholder="Word"><label>Meaning:</label><input type="text" placeholder="Meaning">`;
  document.getElementById("teacherPanel").appendChild(div);
}

// Buttons
document.getElementById("addTeamBtn").onclick=()=>{
  const name=prompt("Team name:")||`Team ${teams.length+1}`;
  const emoji=emojis[teams.length%emojis.length];
  teams.push({name,emoji}); scores.push(0); renderTeams();
}
document.getElementById("addQuestionBtn").onclick=()=>{
  addQuestionBox(document.querySelectorAll(".questionBox").length+1);
}
document.getElementById("startGameBtn").onclick=()=>{
  const boxes=document.querySelectorAll(".questionBox");
  questions=[];
  boxes.forEach(box=>{
    const w=box.querySelectorAll("input")[0].value.trim();
    const m=box.querySelectorAll("input")[1].value.trim();
    if(w && m) questions.push({word:w,meaning:m,revealed:false});
  });
  if(questions.length===0) return alert("Add at least 1 word");
  renderCards();
}
document.getElementById("restartBtn").onclick=()=>location.reload();

function renderTeams(){
  const div=document.getElementById("teams"); div.innerHTML="";
  teams.forEach((t,i)=>{
    const d=document.createElement("div");
    d.className="team"+(i===selectedTeam?" current":"");
    d.style.background=teamColor(i);
    d.textContent=`${t.emoji} ${t.name}: ${scores[i]} pts`;
    d.onclick=()=>{selectedTeam=i; renderTeams();}
    div.appendChild(d);
  });
}
function teamColor(i){
  const colors=["#ff7f50","#ff69b4","#9370db","#3cb371","#ffa500","#ff1493","#00ced1","#ff6347"];
  return colors[i%colors.length];
}

function renderCards(){
  const div=document.getElementById("cards"); div.innerHTML="";
  questions.forEach((q,i)=>{
    const card=document.createElement("div");
    card.className="card"; card.textContent=i+1;
    card.onclick=()=>{
      if(q.revealed) return;
      if(selectedTeam===null) return alert("Select your team first!");
      card.classList.add("selected");
      currentQuestion=q;
      showOptions(q);
    }
    div.appendChild(card);
  });
}

function showOptions(q){
  const div=document.getElementById("options");
  div.innerHTML="";
  const options=[q.word,"option2","option3"];
  options.sort(()=>Math.random()-0.5); // shuffle
  options.forEach(opt=>{
    const btn=document.createElement("button");
    btn.className="optionBtn";
    btn.textContent=opt;
    btn.onclick=()=>{
      if(opt===q.word){scores[selectedTeam]+=10; btn.classList.add("correct"); document.getElementById("feedback").textContent="‚úÖ Correct! +10 points";}
      else{btn.classList.add("wrong"); document.getElementById("feedback").textContent=`‚ùå Wrong! The correct word: ${q.word}`;}
      q.revealed=true;
      renderTeams();
      setTimeout(()=>{document.getElementById("options").innerHTML="";},1000);
    }
    div.appendChild(btn);
  });
}
</script>
</body>
</html>

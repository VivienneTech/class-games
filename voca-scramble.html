<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VocaScramble üçé Kids Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family: "Comic Sans MS", system-ui;
  background: linear-gradient(#fff7e6,#ffe0b2);
  text-align:center;
}
h1{color:#e53935;font-size:3rem;margin:1rem;}
h2{color:#fb8c00;}

.main{max-width:1400px;margin:auto;padding:1rem;}

textarea{
  width:90%;max-width:600px;height:120px;
  font-size:1.2rem;padding:0.5rem;
}

button{
  font-size:1.3rem;
  padding:0.6rem 1rem;
  margin:0.4rem;
  border:none;
  border-radius:12px;
  cursor:pointer;
  background:#43a047;
  color:white;
}
button:hover{background:#2e7d32;}

#teamSetup{margin:1rem;}
.teamRow{
  display:flex;
  justify-content:center;
  gap:0.5rem;
  margin-bottom:0.5rem;
}
.teamRow input, select{
  font-size:1.1rem;
  padding:0.3rem;
}

#scoreboard{
  display:flex;
  justify-content:center;
  gap:1rem;
  flex-wrap:wrap;
  font-size:1.6rem;
  margin:1rem 0;
}
.team{
  padding:0.6rem 1rem;
  border-radius:15px;
  background:#fff;
  border:3px solid #ffcc80;
  cursor:pointer;
}
.team.current{
  background:#ff7043;
  color:white;
  font-weight:bold;
}

#cards{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:1rem;
  width:90%;
  margin:auto;
}
.card{
  background:#ef5350;
  color:white;
  font-size:1.5rem;
  font-weight:bold;
  border-radius:15px;
  height:110px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.card.revealed{background:#42a5f5;}

#choices{
  margin-top:1rem;
}
.choice{
  background:#ffd54f;
  color:#000;
  font-size:1.3rem;
}
.choice:hover{background:#ffb300;}

#feedback{
  font-size:1.8rem;
  margin:1rem;
  min-height:40px;
}

#winnerScreen{
  display:none;
  font-size:3rem;
  color:#2e7d32;
}
</style>
</head>

<body>

<h1>üçì VocaScramble üçå</h1>

<div class="main">

<h2>Enter Words (max 25)</h2>
<textarea id="wordsInput" placeholder="biggest\nfastest\nhappiest"></textarea>

<h2>Teams üçé</h2>
<div id="teamSetup"></div>
<button onclick="addTeam()">‚ûï Add Team</button>

<br>
<button onclick="startGame()">‚ñ∂ Start Game</button>

<div id="scoreboard"></div>
<div id="cards"></div>
<div id="choices"></div>
<div id="feedback"></div>

<div id="winnerScreen"></div>

</div>

<!-- üîä Sounds -->
<audio id="correctSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="wrongSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="winSound" src="https://actions.google.com/sounds/v1/cartoon/ta_da.ogg"></audio>

<script>
let correct=[], scrambled=[];
let teams=[], scores=[], selectedTeam=null;
let currentAnswerIndex=null;

const fruits=["üçé","üçå","üçá","üçâ","üçì","üçç","ü•≠","üçí"];

function addTeam(){
  const div=document.createElement("div");
  div.className="teamRow";
  div.innerHTML=`
    <select>${fruits.map(f=>`<option>${f}</option>`).join("")}</select>
    <input placeholder="Team name">
  `;
  document.getElementById("teamSetup").appendChild(div);
}
addTeam(); addTeam();

function shuffleWord(word){
  return word.split('').sort(()=>Math.random()-0.5).join('');
}

function startGame(){
  correct=document.getElementById("wordsInput").value.trim().split("\n").slice(0,25);
  if(correct.length===0) return alert("Add some words!");

  scrambled=correct.map(w=>shuffleWord(w));

  teams=[]; scores=[];
  document.querySelectorAll(".teamRow").forEach(r=>{
    const emoji=r.children[0].value;
    const name=r.children[1].value||"Team";
    teams.push(`${emoji} ${name}`);
    scores.push(0);
  });

  renderScoreboard();
  renderCards();
}

function renderScoreboard(){
  const div=document.getElementById("scoreboard");
  div.innerHTML="";
  teams.forEach((t,i)=>{
    const d=document.createElement("div");
    d.className="team"+(i===selectedTeam?" current":"");
    d.textContent=`${t}: ${scores[i]}`;
    d.onclick=()=>{selectedTeam=i;renderScoreboard();}
    div.appendChild(d);
  });
}

function renderCards(){
  const div=document.getElementById("cards");
  div.innerHTML="";
  scrambled.forEach((s,i)=>{
    const c=document.createElement("div");
    c.className="card";
    c.textContent=s;
    c.onclick=()=>revealCard(c,i);
    div.appendChild(c);
  });
}

function revealCard(card,i){
  if(card.classList.contains("revealed"))return;
  if(selectedTeam===null)return alert("Choose a team!");
  card.classList.add("revealed");
  card.textContent=correct[i];
  currentAnswerIndex=i;
  showChoices();
}

function showChoices(){
  const div=document.getElementById("choices");
  div.innerHTML="<h2>Choose the correct answer</h2>";
  let options=[correct[currentAnswerIndex]];
  while(options.length<4){
    const r=correct[Math.floor(Math.random()*correct.length)];
    if(!options.includes(r)) options.push(r);
  }
  options.sort(()=>Math.random()-0.5);
  options.forEach(o=>{
    const b=document.createElement("button");
    b.className="choice";
    b.textContent=o;
    b.onclick=()=>checkAnswer(o);
    div.appendChild(b);
  });
}

function checkAnswer(choice){
  const div=document.getElementById("choices");
  div.innerHTML="";
  if(choice===correct[currentAnswerIndex]){
    scores[selectedTeam]+=10;
    document.getElementById("correctSound").play();
    document.getElementById("feedback").textContent="‚úÖ Correct! +10";
  }else{
    document.getElementById("wrongSound").play();
    document.getElementById("feedback").textContent="‚ùå Try again next time!";
  }
  renderScoreboard();
  checkWin();
}

function checkWin(){
  const allRevealed=[...document.querySelectorAll(".card")].every(c=>c.classList.contains("revealed"));
  if(allRevealed){
    const max=Math.max(...scores);
    const winner=teams[scores.indexOf(max)];
    document.getElementById("winSound").play();
    document.getElementById("winnerScreen").style.display="block";
    document.getElementById("winnerScreen").textContent=`üèÜ WINNER: ${winner} üèÜ`;
  }
}
</script>

</body>
</html>
